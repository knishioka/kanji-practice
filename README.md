# 漢字練習プリント

[![GitHub Pages](https://img.shields.io/badge/Demo-GitHub%20Pages-blue?logo=github)](https://knishioka.github.io/kanji-practice/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

小学1〜6年生向け（漢検10級〜5級対応）の漢字練習プリント作成ツールです。
A4サイズで印刷可能なプリントを生成し、PDF出力もサポートしています。

---

## 🌐 デモサイト

### **https://knishioka.github.io/kanji-practice/**

**インストール不要！** ブラウザからすぐに使えます。

---

## 📸 スクリーンショット

### 設定パネル
学年・モード・ページ数などを簡単に設定できます。

### 印刷プレビュー
A4サイズに最適化されたプリントをリアルタイムでプレビュー。

### 9種類の練習モード
読み練習、書き練習、画数問題、書き順練習、例文写経、同音異字、部首問題、送りがな、対義語・類義語に対応。

---

## ✨ 主な機能

### 🎓 学年・漢検級に完全対応

| 学年 | 漢検級 | 漢字数 |
|:----:|:------:|:------:|
| 1年生 | 10級 | 80字 |
| 2年生 | 9級 | 160字 |
| 3年生 | 8級 | 200字 |
| 4年生 | 7級 | 202字 |
| 5年生 | 6級 | 193字 |
| 6年生 | 5級 | 191字 |

学年を選ぶだけで、その学年で習う漢字から問題を自動生成します。

---

### 📝 9種類の練習モード

目的に応じた多彩な練習モードを用意しています。

| モード | 内容 | おすすめの使い方 |
|--------|------|------------------|
| **読み練習** | 漢字を見て読み方を答える | 新しい漢字の導入、読み確認テスト |
| **書き練習** | 読みを見て漢字を書く | 書き取り練習、定着確認 |
| **画数問題** | 漢字の画数を答える | 漢検対策、漢字の構造理解 |
| **書き順練習** | 書き順を見ながらなぞり書き | 正しい書き順の習得 |
| **例文写経** | 例文を書き写す | 文脈での漢字使用、作文力向上 |
| **同音異字** | 同じ読みの漢字から正しいものを選ぶ | 漢字の使い分け練習 |
| **部首問題** | 漢字の部首を答える | 漢字の成り立ち理解、漢検対策 |
| **送りがな** | 正しい送りがなを書く | 漢検頻出、正しい表記の習得 |
| **対義語・類義語** | 対義語または類義語を答える | 語彙力強化、漢検対策 |

#### 📚 学習効果を高める推奨順序

```
画数問題 → 読み練習 → 書き練習 → 例文写経
（構造理解 → 認識 → 産出 → 応用）
```

---

### ⚙️ カスタマイズ可能な設定

| 設定項目 | 説明 |
|----------|------|
| **ページ数** | 必要な枚数を指定（1〜10ページ） |
| **ランダム出題** | 毎回異なる問題順序で出題 |
| **マス目スタイル** | 十字線 / 点 / なし から選択 |
| **マス目サイズ** | 12mm〜25mmで調整可能 |
| **練習列数** | 書き取りの練習回数を調整 |
| **ヒント表示** | 読みや画数のヒントを表示/非表示 |
| **タイトル** | プリントのタイトルを自由に設定 |

---

### 🚫 除外漢字フィルター（NEW!）

特定の漢字を出題対象から除外できます。

- **学年ごとに設定**: 各学年で独立した除外リストを管理
- **かんたん操作**: モーダル画面で漢字をクリックして選択
- **設定を記憶**: ブラウザに自動保存、次回も同じ設定で使用可能

**使い方**:
1. 学年選択の横にある「除外漢字を設定」ボタンをクリック
2. 除外したい漢字をクリックして選択
3. 「適用」ボタンで確定

苦手な漢字だけを集中的に練習したり、既に習得した漢字を除外したりできます。

---

### 🖨️ 印刷・PDF出力

- **A4サイズ**に最適化されたレイアウト
- ブラウザの印刷機能でそのまま印刷
- **PDF保存**で配布・保管が簡単
- 設定は自動保存され、次回も同じ設定で使える

#### 推奨印刷設定

| 項目 | 設定値 |
|------|--------|
| 用紙サイズ | A4 |
| 余白 | なし（アプリ側でマージン設定済み） |
| 背景のグラフィック | オン |

---

## 🚀 使い方

### ブラウザで使う（推奨）

1. **[デモサイト](https://knishioka.github.io/kanji-practice/)** にアクセス
2. 学年とモードを選択
3. 必要に応じて設定をカスタマイズ
4. 「印刷 / PDF保存」ボタンをクリック

### ローカルで動かす

#### 必要環境

- Node.js 22以上
- npm 10以上

#### インストール

```bash
git clone https://github.com/knishioka/kanji-practice.git
cd kanji-practice
npm install
```

#### 開発サーバー起動

```bash
npm run dev
```

ブラウザで http://localhost:5173/kanji-practice/ を開きます。

#### ビルド

```bash
npm run build
npm run preview  # ビルド結果を確認
```

---

## 🛠️ 開発者向け情報

### 技術スタック

| カテゴリ | 技術 |
|----------|------|
| フレームワーク | React 19 + TypeScript |
| ビルドツール | Vite 7 |
| スタイリング | Tailwind CSS v4 |
| 状態管理 | Zustand (localStorage永続化) |
| PDF生成 | jsPDF + html2canvas |
| 書き順データ | [KanjiVG](https://kanjivg.tagaini.net/) (CC BY-SA 3.0) |
| リンター/フォーマッター | Biome |
| テスト | Vitest (unit) + Playwright (e2e) |

### 開発コマンド

| コマンド | 説明 |
|---------|------|
| `npm run dev` | 開発サーバー起動 |
| `npm run build` | プロダクションビルド |
| `npm run preview` | ビルド結果のプレビュー |
| `npm run check` | リント + フォーマットチェック |
| `npm run check:fix` | リント + フォーマット自動修正 |
| `npm run test:unit` | ユニットテスト実行 |
| `npm run test` | E2Eテスト実行 |

### プロジェクト構造

```
src/
├── components/           # Reactコンポーネント
│   ├── modals/          # モーダルダイアログ
│   ├── print/           # 印刷用問題コンポーネント
│   └── settings/        # 設定パネル関連
├── constants/           # 定数（A4サイズなど）
├── data/               # 漢字データ
│   └── grades/         # 学年別データ
├── store/              # Zustand状態管理
├── types.ts            # TypeScript型定義
└── utils/              # ユーティリティ関数
    └── __tests__/      # ユニットテスト
e2e/                    # E2Eテスト
```

---

## 📄 ライセンス

MIT License

### サードパーティライセンス

#### KanjiVG

書き順データは [KanjiVG](https://kanjivg.tagaini.net/) プロジェクトを使用しています。

- **著作権**: © 2009-2025 Ulrich Apel
- **ライセンス**: [Creative Commons Attribution-Share Alike 3.0](https://creativecommons.org/licenses/by-sa/3.0/)

---

## 🤝 コントリビューション

Issue や Pull Request を歓迎します！

---

## 📬 お問い合わせ

バグ報告や機能リクエストは [GitHub Issues](https://github.com/knishioka/kanji-practice/issues) からお願いします。
